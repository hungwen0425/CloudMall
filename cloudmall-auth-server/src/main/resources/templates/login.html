<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" type="text/css" href="/static/login/JD_sass/JD1.css"/>
        <script src="/static/login/JD_js/jquery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
        <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
        <title>cloudmall</title>
    </head>
    <body>
        <!--頂部 logo -->
        <header>
            <a href="http://cloudmall.com/"><img src="/static/login/JD_img/logo.jpg"/></a>
            <p>歡迎登入</p>
            <div class="top-1">
                <img src="/static/login/JD_img/4de5019d2404d347897dee637895d02b_06.png"/><span>登入頁面,調查問捲</span>
            </div>
        </header>

        <div class="top-2">
            <div class="top-2a">
                <img src="/static/login/JD_img/4de5019d2404d347897dee637895d02b_11.png"/>
                <p>依據《網路安全法》，為保障您的賬戶安全和正常使用，請盡快完成手機號碼驗證！新版《<span>雲端商城隱私政策</span>》已上線，將更有利於保護您的個人隱私。</p>
            </div>
        </div>

        <!--大圖-->
        <div class="top-3">
            <div class="img_1">
                <img src="/static/login/JD_img/5731485aN1134b4f0.png"/>
            </div>
            <div id="sign">
                <div class="si_top">
                    <p>
                        <span>雲端商城不會以任何理由要求您轉賬匯款，謹防詐騙。</span>
                        <span style="color: red" th:if="session.msg!=null"><br/>[[${session.msg}]]</span>
                    </p>

                </div>
                <div class="si_cen">
                    <h2 class="btn1">使用者登入</h2>
                </div>

                <div class="si_bom1 tab" style="display: none;">
                    <div class="error">
                        <div></div>
                        請輸入賬戶名和密碼
                    </div>
                    <form action="/login" method="post">
                        <div style="color: red" th:text="${errors != null ? (#maps.containsKey(errors, 'msg') ? errors.msg : '') : ''}"></div>
                        <ul>
                            <li class="top_1">
                                <img src="/static/login/JD_img/user_03.png" class="err_img1"/>
                                <input type="text" name="loginacct" placeholder=" 使用者名稱/已驗證手機" class="user"/>
                            </li>
                            <li>
                                <img src="/static/login/JD_img/user_06.png" class="err_img2"/>
                                <input type="password" name="password" placeholder=" 密碼" class="password"/>
                            </li>
                            <li class="bri">
                                <a href="/static/login/">忘記密碼</a>
                            </li>
                            <li class="ent">
                                <button class="btn2" type="submit">登 &nbsp; &nbsp;入</a></button>
                            </li>
                        </ul>
                    </form>
                </div>
                <div class="si_out">
                    <ul>
                        <li>
                            <div id="fb-root"></div>
                            <script async defer crossorigin="anonymous" nonce="3kjwKvEf"></script>
                            <div onclick="testAPI()" class="fb-login-button" data-size="small" data-button-type="continue_with"
                                 data-layout="rounded" data-auto-logout-link="false" data-use-continue-as="false" data-width=""></div>
                        </li>
                    </ul>
                    </form>

                    <h5 class="rig">
                        <img src="/static/login/JD_img/4de5019d2404d347897dee637895d02b_25.png"/>
                        <span><a href="http://auth.cloudmall.com/reg.html">立即註冊</a></span>
                    </h5>
                </div>
            </div>
        </div>
        <!--底部-->
        <footer>
            <ul>
                <li><a href="/static/login/#">關於我們</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">聯系我們</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">人才招聘</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">商家入駐</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">廣告服務</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">手機雲端商城</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">友情鏈接</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">銷售聯盟</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">雲端商城社區</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">雲端商城公益</a></li>
                <li class="little">|</li>
                <li><a href="/static/login/#">English Site</a></li>
            </ul>
            <span>Copyright &copy; 2004-2017 雲端商城cloudmall.com 版權所有</span>
        </footer>

    </body>
    <script type="text/javascript">
        var alDiv = document.getElementsByClassName('tab');
        var alBtn = document.getElementsByTagName('h2');
        alDiv[0].style.display = 'block';
        var act = alBtn[0]
        for (var i = 0; i < alBtn.length; i++) {
            alBtn[i].indent = i;
            alBtn[i].onclick = function () {
                act.className = '';
                alDiv[act.indent].style.display = 'none';
                this.className = 'act'
                alDiv[this.indent].style.display = 'block'
                act = this
            }
        }

        var btn2 = document.getElementsByClassName('btn2')[0];
        var user = document.getElementsByClassName('user')[0];
        var pass = document.getElementsByClassName('password')[0];
        var err = document.getElementsByClassName('error')[0];
        var err_img1 = document.getElementsByClassName('err_img1')[0];
        var err_img2 = document.getElementsByClassName('err_img2')[0];

        btn2.onclick = function () {
            if (user.value == '' || pass.value == '') {
                err.style.display = 'block';
                user.style.border = '1px solid red';
                pass.style.border = '1px solid red';
                err_img1.src = 'JD_img/img11.png';
                err_img2.src = 'JD_img/img22.png';
            } else {
                var a = document.getElementsByClassName("a")[0].href = "http://www.baidu.com";
            }
            user.onfocus = function () {
                err_img1.src = 'JD_img/grow1.png';
                user.style.border = '1px solid #999';
            }
            pass.onfocus = function () {
                err_img2.src = 'JD_img/grow2.png';
                pass.style.border = '1px solid #999';
            }
            user.onblur = function () {
                err_img1.src = 'JD_img/img11.png';
                user.style.border = '1px solid red';
            }
            pass.onblur = function () {
                err_img2.src = 'JD_img/img22.png';
                pass.style.border = '1px solid red';
            }
        }
    </script>

    <script>
        function statusChangeCallback(response) {  // Called with the results from FB.getLoginStatus().
            console.log('statusChangeCallback');
            console.log(response);                   // The current login status of the person.
            if (response.status === 'connected') {   // Logged into your webpage and Facebook.
                testAPI();
            } else {                                 // Not logged into your webpage or we are unable to tell.
                document.getElementById('status').innerHTML = 'Please log ' +
                    'into this webpage.';
            }
        }

        function checkLoginState() {               // Called when a person is finished with the Login Button.
            FB.getLoginStatus(function(response) {   // See the onlogin handler
                statusChangeCallback(response);
            });
        }

        window.fbAsyncInit = function() {
            FB.init({
                appId      : '646964312649128',
                cookie     : true,                     // Enable cookies to allow the server to access the session.
                xfbml      : true,                     // Parse social plugins on this webpage.
                version    : '8.0'           // Use this Graph API version for this call.
            });


            FB.getLoginStatus(function(response) {   // Called after the JS SDK has been initialized.
                statusChangeCallback(response);        // Returns the login status.
            });
        };

        function testAPI() {                      // Testing Graph API after login.  See statusChangeCallback() for when this call is made.
            console.log('Welcome!  Fetching your information.... ');
            FB.api('/me', function(response) {
                console.log('Successful login for: ' + response.name);
                document.getElementById('status').innerHTML =
                    'Thanks for logging in, ' + response.name + '!';
            });
        }
    </script>
</html>
