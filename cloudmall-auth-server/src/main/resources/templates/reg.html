<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8"/>
		<title>雲端商城註冊頁面</title>
		<script src="/static/reg/libs/jquery-1.12.4.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="/static/reg/js/jQuery/jquery-3.1.1.js"></script>
		<link rel="stylesheet" type="text/css" href="/static/reg/bootStrap/bootstrap/css/bootstrap.css"/>
		<link rel="stylesheet" type="text/css" href="/static/reg/sass/index.css"/>
		<link rel="stylesheet" type="text/css" href="/static/reg/css/index.css">
	</head>

	<body>
		<div class="laoda">
			<div class="zong">
				<div class="tou">
					<p><b>雲端商城使用者註冊協議和隱私政策</b></p>
					<a href="/static/reg/https://www.jd.com/" class="cuo"><span class="glyphicon glyphicon-remove"></span></a>
				</div>
				<div class="zt">
					<div class="protocol-con">
						<div class="WordSection1" style="layout-grid:15.6pt">
							<p class="MsoNormal" style="line-height:150%">
								<span style="mso-bookmark:OLE_LINK6">
									<span style="mso-bookmark:OLE_LINK5">
										<b style="mso-bidi-font-weight:normal">
											<u>
												<span style="mso-bidi-font-size:10.5pt;line-height:150%;font-family:宋體;mso-ascii-font-family:
			Calibri;mso-fareast-font-family:宋體;">在
													<span class="GramE">您註冊</span>成為雲端商城使用者的過程中，您需要完成我們的註冊流程並通過點擊同意的形式
													<span class="GramE">在線簽署</span> 以下協議，請您務必仔細閱讀、充分理解協議中的條款內容後再點擊同意（尤其是以粗體並下劃線標識的條款，因為這些條款可能會明確您應履行的義務或對您的權利有所限制）：
												</span>
											</u>
										</b>
									</span>
								</span>
								<span style="mso-bookmark:OLE_LINK6">
									<span style="mso-bookmark:OLE_LINK5">
										<b style="mso-bidi-font-weight:normal">
											<u>
												<span lang="EN-US" style="mso-bidi-font-size:
		10.5pt;line-height:150%">
													<o:p></o:p>
												</span>
											</u>
										</b>
									</span>
								</span>
							</p>

							<p class="MsoNormal" style="line-height:150%"><b style="mso-bidi-font-weight:
		normal"><u><span lang="EN-US" style="mso-bidi-font-size:10.5pt;line-height:150%;
		color:red"><a href="/static/reg/https://in.m.jd.com/help/app/register_info.html" target="_blank"><span
									lang="EN-US"
									style="font-family:宋體;mso-ascii-theme-font:
		minor-latin;mso-fareast-font-family:宋體;color:red"><span lang="EN-US">《雲端商城使用者註冊協議》</span></span></a><o:p></o:p></span></u></b>
							</p>
							<br>
							<div style="float:left;width:50%">
								<p class="MsoNormal" style="line-height:150%">
									<span lang="EN-US" style="mso-bidi-font-size:
		10.5pt;line-height:150%">1</span>
									<span style="mso-bidi-font-size:10.5pt;
		line-height:150%;font-family:宋體;mso-ascii-font-family:Calibri;mso-ascii-theme-font:
		minor-latin;mso-fareast-font-family:宋體;mso-fareast-theme-font:minor-fareast;
		mso-hansi-font-family:Calibri;mso-hansi-theme-font:minor-latin">、我們如何收集和使用您的個人資料、我們如何使用和同類技術、我們如何共用、轉讓、公開披露您的個人資料、我們如何保護和的個人資料、您如何管理個人資料
									、未成年人資料的保護、通知和修訂、如何聯繫我們【審慎閱讀】您在申請註冊流程中點擊同意前，應當認真閱讀以下協議。請您務必審慎閱讀、充分理解協議中相關條款內容，其中包括
									、與您約定免除或限制責任的條款；、其他以粗體下劃線標識的重要條款。如果您不同意上述協議或其中任何條款約定，請您停止註冊。【請您注意】註冊後將僅可以瀏覽我們的商品資料但無法享受我們的產品或服務。如您按照註冊流程提示填寫資料、閱讀並點擊
									同意上述協議且完成全部註冊流程後，即表示您已充分閱讀、理解並接受協議的全部內容；並表明您也同意雲端商城可以依據以上的隱私政策內容來處理您的個人資料。如您對以上協議內容有任何疑問，您可隨時通過隱私政策下方的聯繫方式聯繫我們。</span>
									<span lang="EN-US" style="mso-bidi-font-size:10.5pt;line-height:150%"><o:p></o:p></span>
								</p>
							</div>
						</div>
					</div>
				</div>
				<div class="dibu">
					<a href="/static/reg/https://www.jd.com/">
						<button class="quxiao">取消</button>
					</a>
					<button class="ty">同意並繼續</button>
				</div>
			</div>
		</div>

		<header>
			<a href="/static/reg/https://www.jd.com/?cu=true&utm_source=haosou-pinzhuan&utm_medium=cpc&utm_campaign=t_288551095_haosoupinzhuan&utm_term=0a875d61c5fe47d8bc48679132932d23_0_2702c6f4ae1c4cd191c1ee4398e2e21b"
			   class="logo"><img src="/static/reg/img/logo1.jpg" alt=""></a>
			<div class="desc">歡迎註冊</div>
			<div class="dfg">
				<span>已有賬號？</span>
				<a href="http://auth.cloudmall.com/login.html">請登入</a>
			</div>
		</header>

		<section>
			<form action="/register" method="post" class="one">
				<div class="tips" style="color: red"
					 th:text="${errors != null ? (#maps.containsKey(errors, 'msg') ? errors.msg : '') : ''}">
				</div>
				<div class="register-box">
					<label class="username_label">用 戶 名
						<input name="userName" maxlength="20" type="text" placeholder="您的使用者名和登入名">
					</label>
					<div class="tips" style="color: red"
						 th:text="${errors != null ? (#maps.containsKey(errors, 'userName') ? errors.userName : '') : ''}">
					</div>
				</div>
				<div class="register-box">
					<label class="other_label">設 置 密 碼
						<input name="password" maxlength="20" type="password" placeholder="建議至少使用兩種字元組合">
					</label>
					<div class="tips" style="color: red"
						 th:text="${errors != null ? (#maps.containsKey(errors, 'password') ? errors.password : '') : ''}">
					</div>
				</div>
				<div class="register-box">
					<label class="other_label">確 認 密 碼
						<input maxlength="20" type="password" placeholder="請再次輸入密碼">
					</label>
					<div class="tips">
					</div>
				</div>
				<div class="register-box">
					<label class="other_label">
						<span style="width:100px">台灣 00886∨</span>
						<input name="phone" class="phone" id="phoneNum" maxlength="10" minlength="10" type="text" placeholder="使用常用手機 (總共10碼)">
					</label>
					<div class="tips" style="color: red"
						 th:text="${errors != null ? (#maps.containsKey(errors, 'phone') ? errors.phone : '') : ''}">
					</div>
				</div>
				<div class="register-box">
					<label class="other_label">驗 證 碼
						<input name="code" maxlength="20" type="text" placeholder="請輸入驗證碼" class="caa">
					</label>
					<a id="sendCode" class=""> 發送驗證碼 </a>
				</div>
				<div class="arguement">
					<input type="checkbox" id="xieyi"> 閱讀並同意
					<a href="/static/reg/#">《雲端商城使用者註冊協議》</a>
					<a href="/static/reg/#">《隱私政策》</a>
					<div class="tips" style="color: red"
						 th:text="${errors != null ? (#maps.containsKey(errors, 'code') ? errors.code : '') : ''}">
					</div>
					<br/>
					<div class="submit_btn">
						<button type="submit" id="submit_btn">立 即 註 冊</button>
					</div>
				</div>
			</form>

			<div class="two">
				<div class="right_r">
					<div class="right_r1">
						<img src="/static/reg/img/a65a18e877a16246a92e1b755bd88a03_03.png"/>
						<span>企業使用者註冊</span>
					</div>
					<div class="right_r2">
						<img src="/static/reg/img/a65a18e877a16246a92e1b755bd88a03_06.png"/>
						<span>INTERNATIONAL <br/> CUSTOMERS</span>
					</div>
				</div>
			</div>
		</section>
		<br/><br/>
		<hr>
		<div class="footer">
			<ul>
				<li>
					<a href="/static/reg/">關於我們</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">聯繫我們</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">人次招聘</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">商家入駐</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">廣告服務</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">手機雲端商城</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">友情鏈接</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">銷售聯盟</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">雲端商城社區</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">雲端商城公益</a>
				</li>
				<li>|</li>
				<li>
					<a href="/static/reg/">English Site</a>
				</li>
			</ul>
		</div>
		<p class="bq">Copyright©2004-2020 雲端商城 cloudmall.com 版權所有</p>
		<br/><br/>
		<script type="text/javascript" charset="utf-8">
			$(function () {
				var stuList = getStuList(); //設定傳送資料：學生的集合
				//聚焦失焦 input
				$('input').eq(0).focus(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("支持中文，字母，數字，'-'，'_'的多種組合");
					}
				})

				$('input').eq(1).focus(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("建議使用字母、數字和符號兩種以上的組合，6-20個字元");
					}
				})

				$('input').eq(2).focus(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("請再次輸入密碼");
					}
				})

				$('input').eq(3).focus(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("驗證完後，你可以使用該手機登入和找回密碼");
					}
				})

				$('input').eq(4).focus(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next().next("div").text("看不清？點擊圖片更換驗證碼");
					}
				})
				//input各種判斷
				//使用者名：
				$('input').eq(0).blur(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("");
						$(this).parent().next("div").css("color", '#ccc');
					} else if ($(this).val().length > 0 && $(this).val().length < 4) {
						$(this).parent().next("div").text("長度只能在4-20個字元之間");
						$(this).parent().next("div").css("color", 'red');
					} else if ($(this).val().length >= 4 && !isNaN($(this).val())) {
						$(this).parent().next("div").text("使用者名不能為純數字");
						$(this).parent().next("div").css("color", 'red');
					} else {
						for (var m = 0; m < stuList.length; m++) {
							if ($(this).val() == stuList[m].name) {
								$(this).parent().next("div").text("該使用者名已被註冊");
								$(this).parent().next("div").css("color", 'red');
								return;
							}
						}
						$(this).parent().next("div").text("");
					}
				})
				//密碼
				$('input').eq(1).blur(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("");
						$(this).parent().next("div").css("color", '#ccc');
					} else if ($(this).val().length > 0 && $(this).val().length < 6) {
						$(this).parent().next("div").text("長度只能在6-20個字元之間");
						$(this).parent().next("div").css("color", 'red');
					} else {
						$(this).parent().next("div").text("");
					}
				})
				//	確認密碼
				$('input').eq(2).blur(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("");
						$(this).parent().next("div").css("color", '#ccc');
					} else if ($(this).val() != $('input').eq(1).val()) {
						$(this).parent().next("div").text("兩次密碼不匹配");
						$(this).parent().next("div").css("color", 'red');
					} else {
						$(this).parent().next("div").text("");
					}
				})
				//	手機號碼
				$('input').eq(3).blur(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next("div").text("");
						$(this).parent().next("div").css("color", '#ccc');
					} else if ($(this).val().substr(2, 0) != "09" && $(this).val().length != 10) {
						$(this).parent().next("div").text("手機號碼格式不正確");
						$(this).parent().next("div").css("color", 'red');
					} else {
						$(this).parent().next("div").text("");
					}
				})
				// 	驗證碼
				//	驗證碼刷新
				function code() {
					var str = "qwertyuiopasdfghjklzxcvbnm1234567890QWERTYUIOPLKJHGFDSAZXCVBNM";
					var str1 = 0;
					for (var i = 0; i < 4; i++) {
						str1 += str.charAt(Math.floor(Math.random() * 62))
					}
					str1 = str1.substring(1)
					$("#code").text(str1);
				}

				code();
				$("#code").click(code);
				//	驗證碼驗證
				$('input').eq(4).blur(function () {
					if ($(this).val().length == 0) {
						$(this).parent().next().next("div").text("");
						$(this).parent().next().next("div").css("color", '#ccc');
					} else if ($(this).val().toUpperCase() != $("#code").text().toUpperCase()) {
						$(this).parent().next().next("div").text("驗證碼不正確");
						$(this).parent().next().next("div").css("color", 'red');
					} else {
						$(this).parent().next().next("div").text("");
					}
				})

				//  建立構造函數，構造學生資料模板
				function Student(name, password, tel, id) {
					this.name = name;
					this.password = password;
					this.tel = tel;
					this.id = id;
				}
				//	查詢之前所有已經註冊的使用者集合
				function getStuList() {
					var list = localStorage.getItem('stuList');
					if (list != null) {
						return JSON.parse(list);
					} else {
						return new Array();
					}
				}
			})

			$(".ty").click(function () {
				$(".zong").hide();
				$(".laoda").hide();
			});

			$(".cuo").click(function () {
				$(".zong").hide();
			});

			$(function () {
				$("#sendCode").click(function () {
					// 2. 倒計時
					if($(this).hasClass("disabled")) {
						// 正在倒計時中
					} else {
						// 1. 給指定手機號碼發送驗證碼
						$.get("/sms/sendCode?phone=" + $("#phoneNum").val(), function (data) {
							if(data.code != 0) {
								alert(data.msg);
							}
						});
						timeoutChangeStyle();
					}
				});
			});

			var num = 60;
			function timeoutChangeStyle() {
				$("#sendCode").attr("class", "disabled");
				if(num == 0) {
					$("#sendCode").text("發送驗證碼");
					num = 60;
					$("#sendCode").attr("class","");
				} else {
					var str = num + "s 後再次發送";
					$("#sendCode").text(str);
					setTimeout("timeoutChangeStyle()", 1000);
				}
				num --;
			}
		</script>
	</body>
</html>
